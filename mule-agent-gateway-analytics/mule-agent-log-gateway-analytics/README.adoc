= Log Internal Handler

The Log Internal handler will store all the HTTP metrics produced from the
Anypoint API Gateway in a configurable log file with a rolling file policy.

=== Configurable Fields


|===
|Field|Data Type|Description|Type|Default Value

|fileName
|String
|The name of the file to write to.
|Required
|

|filePattern
|String
|The pattern of the file name of the archived log file.
It will accept both a date/time pattern compatible with SimpleDateFormat and/or
a %i which represents an integer counter.
|Required
|

|pattern
|String
| Layout pattern used to write the events.
For more information see: https://logging.apache.org/log4j/2.x/manual/layouts.html#PatternLayout
|Optional
|[%d] %map %n

|bufferSize
|int
|The buffer size in bytes.
|Optional
|262144

|inmediateFlush
|boolean
|When set to true - the default, each write will be followed by a flush.
This will guarantee the data is written to disk but could impact performance.
|Optional
|false

|daysTrigger
|int
|Days to maintain on the current active log file before being rolled over to backup files.
|Optional
|1

|mbTrigger
|int
|Maximum size that the output file is allowed to reach before being rolled over to backup files.
|Optional
|100

|dateFormatPattern
|String
|Date format used to format the timestamp.
|Optional
|yyyy-MM-dd'T'HH:mm:ss.SSSZ


|===

=== Configuration Example

[source,yaml]
.Log Internal Handler Configuration
....
---
  mule.agent.analytics.gateway.log:
  	fileName: /var/logs/gw-http-metrics.log
  	filePattern: /var/logs/gw-http-metrics-%d{yyyy-dd-MM}-%i.log
....